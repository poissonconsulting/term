<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create, Manipulate and Query Parameter Terms • term</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Create, Manipulate and Query Parameter Terms">
<meta property="og:description" content="Creates, manipulates, queries and repairs vectors
    of parameter terms.  Parameter terms are the labels used to reference
    values in vectors, matrices and arrays. They represent the names in
    coefficient tables and the column names in mcmc and mcmc.list
    objects.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">term</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/poissonconsulting/term/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="term" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#term" class="anchor"></a>term</h1></div>
<!-- badges: start -->

<p><code>term</code> is an R package to create, manipulate, query and repair vectors of parameter terms. Parameter terms are the labels used to reference values in vectors, matrices and arrays. They represent the names in coefficient tables and the column names in <code>mcmc</code> and <code>mcmc.list</code> objects.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>To install the latest release from <a href="https://cran.r-project.org">CRAN</a></p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"term"</span>)
</pre></div>
<p>To install the developmental version from <a href="https://github.com/poissonconsulting/term">GitHub</a></p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co"># install.packages("remotes")</span>
<span class="kw">remotes</span>::<span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"poissonconsulting/term"</span>)
</pre></div>
</div>
<div id="demonstration" class="section level2">
<h2 class="hasAnchor">
<a href="#demonstration" class="anchor"></a>Demonstration</h2>
<div id="creating-term-vectors" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-term-vectors" class="anchor"></a>Creating Term Vectors</h3>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://github.com/poissonconsulting/term">term</a></span>)

<span class="co"># term vectors can be constructed from character vectors</span>
<span class="kw">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/term.html">term</a></span>(
  <span class="st">"alpha[1]"</span>, <span class="st">"alpha[2]"</span>, <span class="st">"beta[1,1]"</span>, <span class="st">"beta[2,1]"</span>,
  <span class="st">"beta[1,2]"</span>, <span class="st">"beta[2,2]"</span>, <span class="st">"sigma"</span>
)

<span class="co"># term vectors print like character vectors</span>
<span class="kw">term</span>
<span class="co">#&gt; &lt;term[7]&gt;</span>
<span class="co">#&gt; [1] alpha[1]  alpha[2]  beta[1,1] beta[2,1] beta[1,2] beta[2,2] sigma</span>

<span class="co"># they are S3 class objects that also inherit from character</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="kw">term</span>)
<span class="co">#&gt;  term [1:7] alpha[1], alpha[2], beta[1,1], beta[2,1], beta[1,2], beta[2,2],...</span>

<span class="co"># term vectors can also be created from numeric atomic objects</span>
<span class="fu"><a href="reference/as_term.html">as.term</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">2</span>), <span class="st">"theta"</span>)
<span class="co">#&gt; &lt;term[4]&gt;</span>
<span class="co">#&gt; [1] theta[1,1] theta[2,1] theta[1,2] theta[2,2]</span>
</pre></div>
</div>
<div id="querying-term-vectors" class="section level3">
<h3 class="hasAnchor">
<a href="#querying-term-vectors" class="anchor"></a>Querying Term Vectors</h3>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="co"># get the parameter names</span>
<span class="fu"><a href="https://rdrr.io/pkg/universals/man/pars.html">pars</a></span>(<span class="kw">term</span>)
<span class="co">#&gt; [1] "alpha" "beta"  "sigma"</span>
<span class="co"># and parameter dimensions</span>
<span class="fu"><a href="https://rdrr.io/pkg/universals/man/pdims.html">pdims</a></span>(<span class="kw">term</span>)
<span class="co">#&gt; $alpha</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $beta</span>
<span class="co">#&gt; [1] 2 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $sigma</span>
<span class="co">#&gt; [1] 1</span>

<span class="co"># get the parameter names by term</span>
<span class="fu"><a href="reference/pars_terms.html">pars_terms</a></span>(<span class="kw">term</span>)
<span class="co">#&gt; [1] "alpha" "alpha" "beta"  "beta"  "beta"  "beta"  "sigma"</span>
<span class="co"># and the term indices</span>
<span class="fu"><a href="reference/tindex.html">tindex</a></span>(<span class="kw">term</span>)
<span class="co">#&gt; $`alpha[1]`</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`alpha[2]`</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`beta[1,1]`</span>
<span class="co">#&gt; [1] 1 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`beta[2,1]`</span>
<span class="co">#&gt; [1] 2 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`beta[1,2]`</span>
<span class="co">#&gt; [1] 1 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`beta[2,2]`</span>
<span class="co">#&gt; [1] 2 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $sigma</span>
<span class="co">#&gt; [1] 1</span>
</pre></div>
</div>
<div id="validating-term-vectors" class="section level3">
<h3 class="hasAnchor">
<a href="#validating-term-vectors" class="anchor"></a>Validating Term Vectors</h3>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="co"># term vectors can be tested for whether they have (parseably) valid,</span>
<span class="co"># (dimensionally) consistent and complete terms.</span>

<span class="co"># valid terms</span>
<span class="fu"><a href="reference/valid_term.html">valid_term</a></span>(<span class="fu"><a href="reference/term.html">term</a></span>(<span class="st">"a"</span>, <span class="st">"a[1]"</span>, <span class="st">"a [2]"</span>, <span class="st">" b [3  ] "</span>, <span class="st">"c[1,10]"</span>))
<span class="co">#&gt; [1] TRUE TRUE TRUE TRUE TRUE</span>

<span class="co"># invalid terms</span>
<span class="fu"><a href="reference/valid_term.html">valid_term</a></span>(<span class="fu"><a href="reference/new_term.html">new_term</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a a"</span>, <span class="st">"a[]"</span>, <span class="st">"a[2"</span>, <span class="st">" b[3 3]"</span>, <span class="st">"c[1,10]c"</span>)))
<span class="co">#&gt; [1] FALSE FALSE FALSE FALSE FALSE</span>

<span class="co"># consistent terms</span>
<span class="fu"><a href="reference/consistent_term.html">consistent_term</a></span>(<span class="fu"><a href="reference/term.html">term</a></span>(<span class="st">"a"</span>, <span class="st">"a[2]"</span>, <span class="st">"b[1,1]"</span>, <span class="st">"b[10,99]"</span>))
<span class="co">#&gt; [1] TRUE TRUE TRUE TRUE</span>

<span class="co"># inconsistent terms</span>
<span class="fu"><a href="reference/consistent_term.html">consistent_term</a></span>(<span class="fu"><a href="reference/term.html">term</a></span>(<span class="st">"a"</span>, <span class="st">"a[2,1]"</span>, <span class="st">"b[1,1]"</span>, <span class="st">"b[10,99,1]"</span>))
<span class="co">#&gt; [1] FALSE FALSE FALSE FALSE</span>

<span class="co"># complete terms</span>
<span class="fu"><a href="reference/is_incomplete_terms.html">is_incomplete_terms</a></span>(<span class="fu"><a href="reference/term.html">term</a></span>(<span class="st">"a"</span>, <span class="st">"a[2]"</span>, <span class="st">"b[1,1]"</span>, <span class="st">"b[2,1]"</span>))
<span class="co">#&gt; [1] FALSE</span>

<span class="co"># incomplete terms</span>
<span class="fu"><a href="reference/is_incomplete_terms.html">is_incomplete_terms</a></span>(<span class="fu"><a href="reference/term.html">term</a></span>(<span class="st">"a"</span>, <span class="st">"a[3]"</span>, <span class="st">"b[1,1]"</span>, <span class="st">"b[2,2]"</span>))
<span class="co">#&gt; [1] TRUE</span>
</pre></div>
</div>
<div id="checking-term-vectors" class="section level3">
<h3 class="hasAnchor">
<a href="#checking-term-vectors" class="anchor"></a>Checking Term Vectors</h3>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="kw">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/term.html">term</a></span>(<span class="st">"a[1]"</span>, <span class="st">"a[3]"</span>)
<span class="kw">chk</span>::<span class="fu"><a href="https://rdrr.io/pkg/chk/man/chk_s3_class.html">chk_s3_class</a></span>(<span class="kw">x</span>, <span class="st">"term"</span>)
<span class="fu"><a href="reference/chk_term.html">chk_term</a></span>(<span class="kw">x</span>, validate = <span class="st">"valid"</span>)
<span class="fu"><a href="reference/chk_term.html">chk_term</a></span>(<span class="kw">x</span>, validate = <span class="st">"complete"</span>)
<span class="co">#&gt; Error: All elements of term vector `x` must be complete.</span>
</pre></div>
</div>
<div id="repairing-term-vectors" class="section level3">
<h3 class="hasAnchor">
<a href="#repairing-term-vectors" class="anchor"></a>Repairing Term Vectors</h3>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="kw">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/new_term.html">new_term</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"b[4]"</span>, <span class="st">"b   [2]"</span>, <span class="st">"b"</span>, <span class="st">"b[1"</span>, <span class="st">"b[2, 2]"</span>, <span class="st">"b"</span>, <span class="st">"a [ 1 ] "</span>, <span class="fl">NA</span>))
<span class="kw">term</span>
<span class="co">#&gt; &lt;term[8]&gt;</span>
<span class="co">#&gt; [1] b[4]       `b   [2]`  b          b[1        `b[2, 2]`  b          `a [ 1 ] `</span>
<span class="co">#&gt; [8] &lt;NA&gt;</span>

<span class="co"># valid terms can be repaired (invalid terms are converted to missing values)</span>
<span class="kw">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/repair_terms.html">repair_terms</a></span>(<span class="kw">term</span>)
<span class="kw">term</span>
<span class="co">#&gt; &lt;term[8]&gt;</span>
<span class="co">#&gt; [1] b[4]   b[2]   b[1]   &lt;NA&gt;   b[2,2] b[1]   a      &lt;NA&gt;</span>

<span class="co"># the `term()` constructor rejects invalid terms</span>
<span class="fu"><a href="reference/term.html">term</a></span>(<span class="st">"b[4]"</span>, <span class="st">"b   [2]"</span>, <span class="st">"b"</span>, <span class="st">"b[1"</span>, <span class="st">"b[2, 2]"</span>, <span class="st">"b"</span>, <span class="st">"a [ 1 ] "</span>, <span class="fl">NA</span>)
<span class="co">#&gt; Error: All elements of term vector `string_args_term` must be valid.</span>

<span class="co"># missing values can easily removed</span>
<span class="kw">term</span> <span class="op">&lt;-</span> <span class="kw">term</span>[<span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(<span class="kw">term</span>)]
<span class="kw">term</span>
<span class="co">#&gt; &lt;term[6]&gt;</span>
<span class="co">#&gt; [1] b[4]   b[2]   b[1]   b[2,2] b[1]   a</span>

<span class="co"># and only unique values retained</span>
<span class="kw">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span>(<span class="kw">term</span>)
<span class="kw">term</span>
<span class="co">#&gt; &lt;term[5]&gt;</span>
<span class="co">#&gt; [1] b[4]   b[2]   b[1]   b[2,2] a</span>

<span class="co"># a term vector can be sorted by parameter name and index</span>
<span class="kw">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span>(<span class="kw">term</span>)
<span class="kw">term</span>
<span class="co">#&gt; &lt;term[5]&gt;</span>
<span class="co">#&gt; [1] a      b[1]   b[2]   b[4]   b[2,2]</span>

<span class="co"># an inconsistent term removed</span>
<span class="kw">term</span> <span class="op">&lt;-</span> <span class="kw">term</span>[<span class="kw">term</span> != <span class="st">"b[2,2]"</span>]
<span class="kw">term</span>
<span class="co">#&gt; &lt;term[4]&gt;</span>
<span class="co">#&gt; [1] a    b[1] b[2] b[4]</span>

<span class="co"># and incomplete terms completed</span>
<span class="kw">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span>(<span class="fu"><a href="reference/complete_terms.html">complete_terms</a></span>(<span class="kw">term</span>))
<span class="kw">term</span>
<span class="co">#&gt; &lt;term[5]&gt;</span>
<span class="co">#&gt; [1] a    b[1] b[2] b[3] b[4]</span>
</pre></div>
</div>
</div>
<div id="contribution" class="section level2">
<h2 class="hasAnchor">
<a href="#contribution" class="anchor"></a>Contribution</h2>
<p>Please report any <a href="https://github.com/poissonconsulting/term/issues">issues</a>.</p>
<p><a href="https://github.com/poissonconsulting/term/pulls">Pull requests</a> are always welcome.</p>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h2>
<p>Please note that the term project is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=term">https://​cloud.r-project.org/​package=term</a>
</li>
<li>Browse source code at <br><a href="https://github.com/poissonconsulting/term/">https://​github.com/​poissonconsulting/​term/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/poissonconsulting/term/issues">https://​github.com/​poissonconsulting/​term/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Joe Thorley <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-7683-4592" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Kirill Müller <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-1416-3412" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Poisson Consulting <br><small class="roles"> Copyright holder, funder </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
<li><a href="https://github.com/poissonconsulting/term/actions"><img src="https://github.com/poissonconsulting/term/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/poissonconsulting/term?branch=master"><img src="https://codecov.io/gh/poissonconsulting/term/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-green.svg" alt="License: MIT"></a></li>
<li><a href="https://CRAN.R-project.org/package=term"><img src="https://tinyverse.netlify.com/badge/term" alt="Tinyverse status"></a></li>
<li><a href="https://cran.r-project.org/package=term"><img src="https://www.r-pkg.org/badges/version/term" alt="CRAN status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Joe Thorley, Kirill Müller, Poisson Consulting.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
